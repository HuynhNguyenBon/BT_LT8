<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <title>Thêm và xóa hàng trong Table </title>
        <link rel="stylesheet" href="//code.jquery.com/ui/1.13.2/themes/base/jquery-ui.css">

        <link rel="stylesheet" type="text/css" href="css/style.css">
        <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
        <script src="https://code.jquery.com/ui/1.13.2/jquery-ui.js"></script>
    </head>
    <body style="border:1px solid grey">
        <h2>Quản lý thông tin user</h2>
        <form>
            <input type="text" id="name" placeholder="Name">
            <input type="text" id="email" placeholder="Email Address">
            <input type="text" placeholder="Birthdate" id="datepicker">
            <input type="button" class="add-row" value="Add Row">
        </form>
        <table>
            <thead>
                <tr>
                    <th>Select</th>
                    <th>Name</th>
                    <th>Email</th>
                    <th>Birthdate</th>
                </tr>
            </thead>
            <tbody>
            
            </tbody>
        </table>
        <button type="button" class="delete-row">Delete Row</button>
        <script>
        $(document).ready(function(){
            // Hiển thị tab
            $(".tab-menu li a").click(function(e){
                e.preventDefault();
                $(".tab-menu li").removeClass("active");
                $(this).parent().addClass("active");

                $(".tab-item").hide();
                var target = $(this).attr("href");
                $(target).show();
            });

            // Khởi tạo datepicker
            $("#datepicker").datepicker({
                dateFormat: "dd/mm/yy"
            });

            // Thêm hàng mới
            $(".add-row").click(function(){
                var name = $("#name").val();
                var email = $("#email").val();
                var birth = $("#datepicker").val();

                // kiểm tra nhập
                var emailPattern = /^[^ ]+@[^ ]+\.[a-z]{2,3}$/;
                if(name == "" || !email.match(emailPattern) || birth == ""){
                    alert("Vui lòng nhập đúng và đủ thông tin!");
                    return;
                }

                var markup = "<tr><td><input type='checkbox' name='record'></td><td>" 
                    + name + "</td><td>" + email + "</td><td>" + birth + "</td></tr>";
                $("table tbody").append(markup);

                $("#name, #email, #datepicker").val("");
            });

            // Xóa hàng đã chọn
            $(".delete-row").click(function(){
                $("table tbody").find('input[name="record"]:checked').each(function(){
                    $(this).parents("tr").remove();
                });
            });
        });
        </script>
    </body> 
</html>